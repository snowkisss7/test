$(document).ready(function () { var e = { preloadImg: !0 }, t = !1, n = function (e) { e = e.replace(/^url\((.*)\)/, "$1").replace(/^\"(.*)\"$/, "$1"); var t = new Image; t.src = e.replace(/\.([a-zA-Z]*)$/, "-hover.$1"); var n = new Image; n.src = e.replace(/\.([a-zA-Z]*)$/, "-focus.$1") }, r = function (e) { var t = $(e.get(0).form), n = e.next(); if (!n.is("label")) { n = e.prev(); if (n.is("label")) { var r = e.attr("id"); r && (n = t.find('label[for="' + r + '"]')) } } return n.is("label") ? n.css("cursor", "pointer") : !1 }, i = function (e) { var t = $(".jqTransformSelectWrapper ul:visible"); t.each(function () { var t = $(this).parents(".jqTransformSelectWrapper:first").find("select").get(0); (!e || !t.oLabel || t.oLabel.get(0) != e.get(0)) && $(this).hide() }) }, s = function (e) { $(e.target).parents(".jqTransformSelectWrapper").length === 0 && i($(e.target)) }, o = function () { $(document).mousedown(s) }, u = function (e) { var t; $(".jqTransformSelectWrapper select", e).each(function () { t = this.selectedIndex < 0 ? 0 : this.selectedIndex, $("ul", $(this).parent()).each(function () { $("a:eq(" + t + ")", this).click() }) }), $("a.jqTransformCheckbox, a.jqTransformRadio", e).removeClass("jqTransformChecked"), $("input:checkbox, input:radio", e).each(function () { this.checked && $("a", $(this).parent()).addClass("jqTransformChecked") }) }; $.fn.jqTransInputButton = function () { return this.each(function () { var e = $('<button id="' + this.id + '" name="' + this.name + '" type="' + this.type + '" class="' + this.className + ' jqTransformButton"><span><span>' + $(this).attr("value") + "</span></span>").hover(function () { e.addClass("jqTransformButton_hover") }, function () { e.removeClass("jqTransformButton_hover") }).mousedown(function () { e.addClass("jqTransformButton_click") }).mouseup(function () { e.removeClass("jqTransformButton_click") }); $(this).replaceWith(e) }) }, $.fn.jqTransInputText = function () { return this.each(function () { var e = $(this); if (e.hasClass("jqtranformdone") || !e.is("input")) return; e.addClass("jqtranformdone"); var t = r($(this)); t && t.bind("click", function () { e.focus() }); var n = e.width(); e.attr("size") && (n = e.attr("size") * 10, e.css("width", n)), e.addClass("jqTransformInput").wrap('<div class="jqTransformInputWrapper"><div class="jqTransformInputInner"><div></div></div></div>'); var i = e.parent().parent().parent(); i.css("width", n + 10), e.focus(function () { i.addClass("jqTransformInputWrapper_focus") }).blur(function () { i.removeClass("jqTransformInputWrapper_focus") }).hover(function () { i.addClass("jqTransformInputWrapper_hover") }, function () { i.removeClass("jqTransformInputWrapper_hover") }), $.browser.safari && i.addClass("jqTransformSafari"), $.browser.safari && e.css("width", i.width() + 16), this.wrapper = i }) }, $.fn.jqTransCheckBox = function () { return this.each(function () { if ($(this).hasClass("jqTransformHidden")) return; var e = $(this), t = this, n = r(e); n && n.click(function () { i.trigger("click") }); var i = $('<a href="#" class="jqTransformCheckbox"></a>'); e.addClass("jqTransformHidden").wrap('<span class="jqTransformCheckboxWrapper"></span>').parent().prepend(i), e.change(function () { return this.checked && i.addClass("jqTransformChecked") || i.removeClass("jqTransformChecked"), !0 }), i.click(function () { return e.attr("disabled") ? !1 : (e.trigger("click").trigger("change"), !1) }), this.checked && i.addClass("jqTransformChecked") }) }, $.fn.jqTransRadio = function () { return this.each(function () { if ($(this).hasClass("jqTransformHidden")) return; var e = $(this), t = this; oLabel = r(e), oLabel && oLabel.click(function () { n.trigger("click") }); var n = $('<a href="#" class="jqTransformRadio" rel="' + this.name + '"></a>'); e.addClass("jqTransformHidden").wrap('<span class="jqTransformRadioWrapper"></span>').parent().prepend(n), e.change(function () { return t.checked && n.addClass("jqTransformChecked") || n.removeClass("jqTransformChecked"), !0 }), n.click(function () { return e.attr("disabled") ? !1 : (e.trigger("click").trigger("change"), $('input[name="' + e.attr("name") + '"]', t.form).not(e).each(function () { $(this).attr("type") == "radio" && $(this).trigger("change") }), !1) }), t.checked && n.addClass("jqTransformChecked") }) }, $.fn.jqTransTextarea = function () { return this.each(function () { var e = $(this); if (e.hasClass("jqtransformdone")) return; e.addClass("jqtransformdone"), oLabel = r(e), oLabel && oLabel.click(function () { e.focus() }); var t = '<table cellspacing="0" cellpadding="0" border="0" class="jqTransformTextarea">'; t += '<tr><td id="jqTransformTextarea-tl"></td><td id="jqTransformTextarea-tm"></td><td id="jqTransformTextarea-tr"></td></tr>', t += '<tr><td id="jqTransformTextarea-ml">&nbsp;</td><td id="jqTransformTextarea-mm"><div></div></td><td id="jqTransformTextarea-mr">&nbsp;</td></tr>', t += '<tr><td id="jqTransformTextarea-bl"></td><td id="jqTransformTextarea-bm"></td><td id="jqTransformTextarea-br"></td></tr>', t += "</table>"; var n = $(t).insertAfter(e).hover(function () { !n.hasClass("jqTransformTextarea-focus") && n.addClass("jqTransformTextarea-hover") }, function () { n.removeClass("jqTransformTextarea-hover") }); e.focus(function () { n.removeClass("jqTransformTextarea-hover").addClass("jqTransformTextarea-focus") }).blur(function () { n.removeClass("jqTransformTextarea-focus") }).appendTo($("#jqTransformTextarea-mm div", n)), this.oTable = n, $.browser.safari && $("#jqTransformTextarea-mm", n).addClass("jqTransformSafariTextarea").find("div").css("height", e.height()).css("width", e.width()) }) }, $.fn.jqTransSelect = function () { return this.each(function (e) { var t = $(this); if (t.hasClass("jqTransformHidden")) return; if (t.attr("multiple")) return; var n = r(t), s = t.addClass("jqTransformHidden").wrap('<div class="jqTransformSelectWrapper"></div>').parent().css({ zIndex: 10 - e }); s.prepend('<div><span></span><a href="#" class="jqTransformSelectOpen"></a></div><ul></ul>'); var o = $("ul", s).css("width", t.width()).hide(); $("option", this).each(function (e) { var t = $('<li><a href="#" index="' + e + '">' + $(this).html() + "</a></li>"); o.append(t) }), o.find("a").click(function () { return $("a.selected", s).removeClass("selected"), $(this).addClass("selected"), t[0].selectedIndex != $(this).attr("index") && t[0].onchange && (t[0].selectedIndex = $(this).attr("index"), t[0].onchange()), t[0].selectedIndex = $(this).attr("index"), $("span:eq(0)", s).html($(this).html()), o.hide(), !1 }), $("a:eq(" + this.selectedIndex + ")", o).click(), $("span:first", s).click(function () { $("a.jqTransformSelectOpen", s).trigger("click") }), n && n.click(function () { $("a.jqTransformSelectOpen", s).trigger("click") }), this.oLabel = n; var u = $("a.jqTransformSelectOpen", s).click(function () { return o.css("display") == "none" && i(), t.attr("disabled") ? !1 : (o.slideToggle("fast", function () { var e = $("a.selected", o).offset().top - o.offset().top; o.animate({ scrollTop: e }) }), !1) }), a = t.outerWidth(), f = $("span:first", s), l = a > f.innerWidth() ? a + u.outerWidth() : s.width(); s.css("width", l), o.css("width", l - 2), f.css({ width: a }), o.css({ display: "block", visibility: "hidden" }); var c = $("li", o).length * $("li:first", o).height(); c < o.height() && o.css({ height: c, overflow: "hidden" }), o.css({ display: "none", visibility: "visible" }) }) }, $.fn.jqTransform = function (t) { var n = $.extend({}, e, t); return this.each(function () { var e = $(this); if (e.hasClass("jqtransformdone")) return; e.addClass("jqtransformdone"), $('input:submit, input:reset, input[type="button"]', this).jqTransInputButton(), $("input:text, input:password", this).jqTransInputText(), $("input:checkbox", this).jqTransCheckBox(), $("input:radio", this).jqTransRadio(), $("textarea", this).jqTransTextarea(), $("select", this).jqTransSelect().length > 0 && o(), e.bind("reset", function () { var e = function () { u(this) }; window.setTimeout(e, 10) }) }) } }), $(document).ready(function () { $("form").jqTransform({ imgPath: "jqtransformplugin/img/" }) })